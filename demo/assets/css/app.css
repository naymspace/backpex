@import "tailwindcss";

@plugin "./tailwind_heroicons.js";

@plugin "daisyui" {
  themes: all;
}

@plugin "@tailwindcss/typography";

@source "../../../lib/**/*.*ex";
@source "../../../assets/js/hooks/**/*.*js";

@layer base {
  button,
  select,
  [role="button"] {
    cursor: pointer;
  }
}

@custom-variant phx-click-loading (.phx-click-loading&, .phx-click-loading &);
@custom-variant phx-submit-loading (.phx-submit-loading&, .phx-submit-loading &);
@custom-variant phx-change-loading (.phx-change-loading&, .phx-change-loading &);

.phx-loading {
  cursor: wait;
}

@utility phx-click-loading {
  opacity: 0.5;
  transition: opacity 1s ease-out;
}

@utility btn {
  @apply shadow-none;

  &:where(input[type="checkbox"], input[type="radio"]) {
    &:checked {
      @apply border-primary bg-primary text-primary-content;

      @media (hover: hover) {
        &:hover {
          @supports (color: color-mix(in oklab, black, black)) {
            background-color: color-mix(
              in oklab,
              var(--color-primary) 90%,
              black
            );
            border-color: color-mix(in oklab, var(--color-primary) 90%, black);
          }
        }
      }
    }

    &:hover {
      @apply bg-base-content/10;
    }
  }
}

@utility join {
  border-radius: var(--radius-field);
}

@utility textarea {
  &:focus,
  &:focus-within {
    --input-color: color-mix(
      in oklab,
      var(--color-base-content) 20%,
      transparent
    );
  }
}

@utility select {
  &:focus,
  &:focus-within {
    --input-color: color-mix(
      in oklab,
      var(--color-base-content) 20%,
      transparent
    );
  }
}

@utility input {
  &:focus,
  &:focus-within {
    --input-color: color-mix(
      in oklab,
      var(--color-base-content) 20%,
      transparent
    );
  }
}

@utility table {
  & :where(thead, tfoot) {
    @apply text-xs;
  }
}

@utility alert {
  @apply shadow-none;
}
